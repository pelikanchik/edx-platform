<%namespace name='static' file='static_content.html'/>
<%namespace file='main.html' import="stanford_theme_enabled"/>
<%!
from django.utils.translation import ugettext as _
from django.core.urlresolvers import reverse
from courseware.courses import course_image_url, get_course_about_section
%>
<%page args="course" />

    <article id="${course.id}" class="course">
      %if course.available_for_demo:
            %if not hasattr(user, 'profile') or user.profile.is_demo:
                <span class="demo-status" title = "${_('Part of thic course is available without registration')}">${_("No register")}</span>
            %endif
      %endif
      %if course.is_newish:
        <span class="status">${_("New")}</span>
      %endif
      <a href="${reverse('about_course', args=[course.id])}">
      <div class="inner-wrapper">
          <header class="course-preview">
            <hgroup>
              <h2><span class="course-number">${course.display_number_with_default | h}</span> ${get_course_about_section(course, 'title')}</h2>
            </hgroup>
            <div class="info-link">&#x2794;</div>
          </header>
          <section class="info">
            <div class="cover-image">
              <img src="${course_image_url(course)}" alt="${course.display_number_with_default | h} ${get_course_about_section(course, 'title')}" />
            </div>
            <div class="desc">
              <p>${get_course_about_section(course, 'short_description')}</p>
            </div>
            <div class="bottom">
            % if course.subject != "Empty" and course.subject:
              % if stanford_theme_enabled():
                <span class="university">${course.subject | h}</span>
              % else:
                <a href="#" class="university">${course.subject | h}</a>
              % endif
            % endif
            </div>
          </section>
        </div>
        % if course.subject != "Empty" and course.subject:
        <div class="meta-info">
          <p class="university">${course.subject | h}</p>
        </div>
        % endif
      </a>
    </article>
